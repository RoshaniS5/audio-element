<script src="https://cdn.jsdelivr.net/gh/netizenorg/netnet-standard-library/build/nn.min.js?v=9000"></script>
<script src="https://unpkg.com/tone"></script>
<script>
/* global nn, Tone */

  const synth = new Tone.PolySynth().toDestination()
  const scale = nn.createScale('C4', 'minor')
  const chord = nn.createChord(scale, 'triad')
  let keydown = false
  let step = 0
  
  function startPlaying () {
    if (!keydown) {
      synth.triggerAttack(chord)
      keydown = true
    }
  }
  
  function stopPlaying () {
    synth.triggerRelease(chord)
    keydown = false
  }
  
  nn.on('keydown', startPlaying)
  nn.on('keyup', stopPlaying)

</script>